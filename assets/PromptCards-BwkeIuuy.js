import{c as j,u as n,r as i,j as e,C as _,a as S,s as y}from"./index-sSUKdjhQ.js";import{c as F,a as E}from"./confetti.module-Dd8cKnWH.js";const T=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],I=j("columns-2",T);const P=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],z=j("list",P),d=[{border:"border-primary",bg:"bg-primary",light:"bg-primary-light/30",text:"text-primary",label:"스토리 1"},{border:"border-accent",bg:"bg-accent",light:"bg-accent-light/30",text:"text-accent",label:"스토리 2"},{border:"border-warning",bg:"bg-warning",light:"bg-[#FFF8EC]",text:"text-warning",label:"스토리 3"}];function R(){const o=n(s=>s.generatedPrompts),l=n(s=>s.generatedStories),u=n(s=>s.serialMode),w=n(s=>s.hasEverCopied),N=n(s=>s.markCopied),[C,b]=i.useState(null),[v,k]=i.useState(null),[x,g]=i.useState("list"),[p,$]=i.useState(0);if(o.length===0)return null;const M=async(s,t)=>{try{await F(s),b(t),y(`프롬프트 ${t+1} 복사 완료!`,"success"),w||(E({particleCount:60,spread:50,origin:{y:.7},colors:["#007AFF","#5856D6","#34C759","#FF9500"]}),N()),setTimeout(()=>b(null),2e3)}catch{y("복사에 실패했어요","error")}},f=(s,t,c=!1)=>{const a=d[t%d.length],r=l[t],m=C===t,h=c||v===t;return e.jsxs("div",{className:`rounded-2xl border-2 ${a.border} ${a.light} overflow-hidden transition-all shadow-[0_2px_8px_rgba(0,0,0,0.04)]`,children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`${a.bg} text-white rounded-full w-7 h-7 flex items-center justify-center text-sm font-bold`,children:t+1}),e.jsx("span",{className:"font-bold text-base text-text",children:r?.title??a.label}),u&&r&&e.jsxs("span",{className:"text-xs font-semibold text-primary bg-primary-light px-2 py-0.5 rounded-full",children:[r.episode??t+1,"화"]}),r&&e.jsxs("span",{className:"text-sm text-muted",children:["— ",r.character]})]}),e.jsxs("button",{type:"button",onClick:()=>M(s,t),className:`
              flex items-center gap-1.5 px-3.5 py-1.5 rounded-xl text-sm font-bold cursor-pointer transition-all
              ${m?"bg-success text-white":`${a.bg} text-white hover:opacity-90 shadow-sm hover:shadow-md hover:-translate-y-0.5`}
            `,children:[m?e.jsx(_,{className:"w-4 h-4"}):e.jsx(S,{className:"w-4 h-4"}),m?"복사됨":"복사"]})]}),e.jsx("div",{className:"px-4 pb-3",children:c?e.jsx("pre",{className:"text-sm text-text/80 whitespace-pre-wrap font-sans leading-relaxed",children:s}):e.jsxs("button",{type:"button",onClick:()=>k(h?null:t),className:"w-full text-left cursor-pointer",children:[e.jsx("pre",{className:`text-sm text-text/80 whitespace-pre-wrap font-sans leading-relaxed ${h?"":"line-clamp-3"}`,children:s}),e.jsx("span",{className:`text-xs ${a.text} font-medium mt-1 inline-block`,children:h?"접기 ▲":"전체 보기 ▼"})]})})]},t)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("span",{className:"bg-success text-white w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold shadow-[0_2px_6px_rgba(52,199,89,0.3)]",children:"5"}),e.jsx("span",{className:"text-lg font-bold text-text",children:"생성된 프롬프트"})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-surface rounded-xl p-1",children:[e.jsxs("button",{type:"button",onClick:()=>g("list"),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium cursor-pointer transition-all ${x==="list"?"bg-card text-text shadow-sm":"text-muted hover:text-text"}`,children:[e.jsx(z,{className:"w-4 h-4"}),"전체"]}),e.jsxs("button",{type:"button",onClick:()=>g("compare"),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium cursor-pointer transition-all ${x==="compare"?"bg-card text-text shadow-sm":"text-muted hover:text-text"}`,children:[e.jsx(I,{className:"w-4 h-4"}),"비교"]})]})]}),x==="list"?e.jsx("div",{className:"space-y-3",children:o.map((s,t)=>f(s,t))}):e.jsxs("div",{children:[e.jsx("div",{className:"flex gap-1 mb-3",children:o.map((s,t)=>{const c=d[t%d.length];return e.jsxs("button",{type:"button",onClick:()=>$(t),className:`
                    flex-1 py-2.5 rounded-xl text-sm font-bold cursor-pointer transition-all
                    ${p===t?`${c.bg} text-white shadow-md`:"bg-surface text-muted hover:bg-surface/80"}
                  `,children:[l[t]?.title??`스토리 ${t+1}`,u&&l[t]?` · ${l[t]?.episode??t+1}화`:""]},t)})}),f(o[p],p,!0)]})]})}export{R as default};
