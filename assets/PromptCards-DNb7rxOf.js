import{c as y,u as o,r as l,j as e,C as _,a as M,s as f}from"./index-Bkvzbr_A.js";import{c as S,a as F}from"./confetti.module-Dd8cKnWH.js";const E=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],T=y("columns-2",E);const I=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],P=y("list",I),c=[{border:"border-primary",bg:"bg-primary",light:"bg-primary-light/30",text:"text-primary",label:"스토리 1"},{border:"border-accent",bg:"bg-accent",light:"bg-accent-light/30",text:"text-accent",label:"스토리 2"},{border:"border-warning",bg:"bg-warning",light:"bg-[#FFF8EC]",text:"text-warning",label:"스토리 3"}];function O(){const n=o(s=>s.generatedPrompts),h=o(s=>s.generatedStories),j=o(s=>s.hasEverCopied),w=o(s=>s.markCopied),[N,u]=l.useState(null),[C,v]=l.useState(null),[i,b]=l.useState("list"),[d,k]=l.useState(0);if(n.length===0)return null;const $=async(s,t)=>{try{await S(s),u(t),f(`프롬프트 ${t+1} 복사 완료!`,"success"),j||(F({particleCount:60,spread:50,origin:{y:.7},colors:["#007AFF","#5856D6","#34C759","#FF9500"]}),w()),setTimeout(()=>u(null),2e3)}catch{f("복사에 실패했어요","error")}},g=(s,t,r=!1)=>{const a=c[t%c.length],x=h[t],p=N===t,m=r||C===t;return e.jsxs("div",{className:`rounded-2xl border-2 ${a.border} ${a.light} overflow-hidden transition-all shadow-[0_2px_8px_rgba(0,0,0,0.04)]`,children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`${a.bg} text-white rounded-full w-7 h-7 flex items-center justify-center text-sm font-bold`,children:t+1}),e.jsx("span",{className:"font-bold text-base text-text",children:x?.title??a.label}),x&&e.jsxs("span",{className:"text-sm text-muted",children:["— ",x.character]})]}),e.jsxs("button",{type:"button",onClick:()=>$(s,t),className:`
              flex items-center gap-1.5 px-3.5 py-1.5 rounded-xl text-sm font-bold cursor-pointer transition-all
              ${p?"bg-success text-white":`${a.bg} text-white hover:opacity-90 shadow-sm hover:shadow-md hover:-translate-y-0.5`}
            `,children:[p?e.jsx(_,{className:"w-4 h-4"}):e.jsx(M,{className:"w-4 h-4"}),p?"복사됨":"복사"]})]}),e.jsx("div",{className:"px-4 pb-3",children:r?e.jsx("pre",{className:"text-sm text-text/80 whitespace-pre-wrap font-sans leading-relaxed",children:s}):e.jsxs("button",{type:"button",onClick:()=>v(m?null:t),className:"w-full text-left cursor-pointer",children:[e.jsx("pre",{className:`text-sm text-text/80 whitespace-pre-wrap font-sans leading-relaxed ${m?"":"line-clamp-3"}`,children:s}),e.jsx("span",{className:`text-xs ${a.text} font-medium mt-1 inline-block`,children:m?"접기 ▲":"전체 보기 ▼"})]})})]},t)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("span",{className:"bg-success text-white w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold shadow-[0_2px_6px_rgba(52,199,89,0.3)]",children:"5"}),e.jsx("span",{className:"text-lg font-bold text-text",children:"생성된 프롬프트"})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-surface rounded-xl p-1",children:[e.jsxs("button",{type:"button",onClick:()=>b("list"),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium cursor-pointer transition-all ${i==="list"?"bg-card text-text shadow-sm":"text-muted hover:text-text"}`,children:[e.jsx(P,{className:"w-4 h-4"}),"전체"]}),e.jsxs("button",{type:"button",onClick:()=>b("compare"),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium cursor-pointer transition-all ${i==="compare"?"bg-card text-text shadow-sm":"text-muted hover:text-text"}`,children:[e.jsx(T,{className:"w-4 h-4"}),"비교"]})]})]}),i==="list"?e.jsx("div",{className:"space-y-3",children:n.map((s,t)=>g(s,t))}):e.jsxs("div",{children:[e.jsx("div",{className:"flex gap-1 mb-3",children:n.map((s,t)=>{const r=c[t%c.length];return e.jsx("button",{type:"button",onClick:()=>k(t),className:`
                    flex-1 py-2.5 rounded-xl text-sm font-bold cursor-pointer transition-all
                    ${d===t?`${r.bg} text-white shadow-md`:"bg-surface text-muted hover:bg-surface/80"}
                  `,children:h[t]?.title??`스토리 ${t+1}`},t)})}),g(n[d],d,!0)]})]})}export{O as default};
